clean up the single-clause with section @/Users/zili/code/bupe/lib/bupe/parser.ex:208-217
it's hard to argue about what the code is doing here with only one single with clause
we should separate out the pipes into different with clause, with each clause returning some variable
